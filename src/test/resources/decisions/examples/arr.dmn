<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Definitions id="ApplicationRiskRating" namespace="http://omny.link/decisions/examples"
  xmlns="http://www.omg.org/spec/DMN/20130901" 
  xmlns:ol="http://omny.link/decisions"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.omg.org/spec/DMN/20130901 schema/DMN.xsd "
  expressionLanguage="http://foo.com/application/javascript"
  name="Application Risk Decisions">
  <ItemDefinition typeLanguage="http://tempuri.org"
    isCollection="false" id="applicantDef" name="Applicant">
    <description>Domain model definition for a single applicant.</description>
  </ItemDefinition>
  <ItemDefinition typeLanguage="http://tempuri.org"
    isCollection="false" id="conclusionDef" name="conclusion">
    <description>Domain model definition for a single conclusion
      (policy).</description>
  </ItemDefinition>
  <BusinessKnowledgeModel id="bkm0"
    name="Applicant Model">
    <description>Business Knowledge Model describing the Applicants
      for the Health Insurance domain</description>
    <InformationItem id="applicant" name="applicant">
      <description>An applicant for health insurance</description>
      <itemDefinition>applicantDef</itemDefinition>
    </InformationItem>
    <LiteralExpression expressionLanguage="http://tempuri.org"
      id="idvalue2" name="conclusion">
      <description>The conclusion being created for the applicant</description>
      <itemDefinition>conclusionDef</itemDefinition>
      <text />
    </LiteralExpression>
  </BusinessKnowledgeModel>
  <Decision id="DetermineApplicantRiskRating" name="Determine applicant's risk rating">
    <description>Determines health insurance applicant's risk rating</description>
    <question>What is the risk rating for the specified health
      insurance applicant?</question>
    <allowedAnswers>"High", "Medium", "Low"</allowedAnswers>
    <DecisionTable aggregation="COLLECT"
      preferedOrientation="Rule-as-Row" isComplete="true" isConsistent="true"
      id="dt0" name="Applicant Risk Rating" hitconclusion="UNIQUE">
      <description>Calculate applicant risk rating based on age and
        health</description>
      <clause>
        <inputExpression />
        <inputEntry>
          <text>applicant.age &gt; 60</text>
        </inputEntry>
        <inputEntry>
          <text>applicant.age &gt;=25 &amp;&amp; applicant.age &lt;= 60</text>
        </inputEntry>
        <inputEntry>
          <text>applicant.age &lt; 25</text>
        </inputEntry>
      </clause>
      <clause>
        <inputExpression />
        <inputEntry>
          <text>applicant.health == 'Good'</text>
        </inputEntry>
        <inputEntry>
          <text>applicant.health == 'Bad'</text>
        </inputEntry>
      </clause>
      <clause>
        <outputDefinition>conclusion</outputDefinition>
        <outputEntry>
          <text>conclusion.riskRating = 'High'</text>
        </outputEntry>
        <outputEntry>
          <text>conclusion.riskRating = 'Medium'</text>
        </outputEntry>
        <outputEntry>
          <text>conclusion.riskRating = 'Low'</text>
        </outputEntry>
      </clause>
      <rule>
        <condition>over60</condition>
        <condition>inGoodHealth</condition>
        <conclusion>mediumRisk</conclusion>
      </rule>
      <rule>
        <condition>over60</condition>
        <condition>inBadHealth</condition>
        <conclusion>highRisk</conclusion>
      </rule>
      <rule>
        <condition>between25And60</condition>
        <condition></condition>
        <conclusion>mediumRisk</conclusion>
      </rule>
      <rule>
        <condition>under25</condition>
        <condition>inGoodHealth</condition>
        <conclusion>lowRisk</conclusion>
      </rule>
      <rule>
        <condition>under25</condition>
        <condition>inBadHealth</condition>
        <conclusion>mediumRisk</conclusion>
      </rule>
    </DecisionTable>
  </Decision>
</Definitions>